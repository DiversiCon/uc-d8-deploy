langcode: en
status: true
id: migrate_media_image
class: Drupal\migrate\Plugin\Migration
field_plugin_method: null
cck_plugin_method: null
migration_tags:
- 'Drupal 7'
- Content
migration_group: legacy
label: 'Media: Image'
source:
  plugin: d7_file_extra
#  plugin: d7_file
  scheme: public
  constants:
    bundle: 'image'
process:
  skip_value:
    plugin: skip_on_value
    not_equals: true
    source: filemime
    method: row
    value:
      - 'image/jpeg'
      - 'image/gif'
      - 'image/png'
  bundle: constants/bundle
  langcode:
    plugin: default_value
    source: language
    default_value: und
  name: title
  uid:
    plugin: migration_lookup
    migration: migrate_users
    source: uid
  status: status
  created: timestamp
  changed: timestamp
  revision_uid:
    plugin: migration_lookup
    migration: migrate_users
    source: uid
  revision_log: ''
  revision_timestamp: timestamp
  field_media_image/target_id:
    plugin: migration_lookup
    migration: migrate_file
    source: fid
  field_image_caption: alt_text
  field_media_image/alt: alt_text
  field_media_image/title: title_text
destination:
  plugin: 'entity:media'
  default_bundle: image
migration_dependencies:
  required:
  - migrate_file
  - migrate_users
  optional:
  - d7_field_instance
dependencies:
  module:
  - uc_migrate
  enforced:
    module:
    - uc_migrate
