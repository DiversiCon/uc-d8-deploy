langcode: en
status: true
id: migrate_content_story_hero_image
class: Drupal\migrate\Plugin\Migration
field_plugin_method: null
cck_plugin_method: null
migration_tags:
  - 'Drupal 7'
  - Content
migration_group: legacy
label: 'Content: Story/Hero/Image'
source:
  plugin: d7_node_hero
  node_type: story
  constants:
    parent_type: 'node'
    parent_field_name: 'field_paragraph_single'
process:
  skip:
    plugin: skip_on_empty
    source: hero_type
    method: row
  skip_value:
    plugin: skip_on_value
    not_equals: false
    source: hero_type
    method: row
    value:
      - image
  parent_id: nid
  parent_type: constants/parent_type
  parent_field_name: constants/parent_field_name
  field_image_reference:
    plugin: sub_process
    source: field_leading_content
    process:
      target_id:
        plugin: migration_lookup
        migration: migrate_media_image
        source: target_id
destination:
  plugin: 'entity_reference_revisions:paragraph'
  default_bundle: image_hero

migration_dependencies:
  required: { }
  optional:
    - d7_field_instance
dependencies:
  module:
    - uc_migrate
  enforced:
    module:
      - uc_migrate
